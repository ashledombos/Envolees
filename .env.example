# =============================================================================
# ENVOLÉES — Configuration
# Copier vers .env et adapter selon votre setup
# =============================================================================

# -----------------------------------------------------------------------------
# TIMEFRAME & DATA
# -----------------------------------------------------------------------------
TIMEFRAME=4h
TIMEZONE=Europe/Paris
YF_PERIOD=730d
YF_INTERVAL=1h

# -----------------------------------------------------------------------------
# TICKERS
# -----------------------------------------------------------------------------
# Liste complète ou sous-ensemble, séparés par des virgules
# Voir `python main.py instruments` pour la liste FTMO complète
TICKERS=EURUSD=X,GBPUSD=X,USDJPY=X,BTC-USD,ETH-USD,GC=F,^GSPC,^NDX

# -----------------------------------------------------------------------------
# STRATÉGIE
# -----------------------------------------------------------------------------
EMA_PERIOD=200
ATR_PERIOD=14
DONCHIAN_N=20
BUFFER_ATR=0.10

# Distance max au canal pour placer un stop proactif (en multiples ATR)
# Plus haut = plus de signaux mais plus de faux départs
PROXIMITY_ATR=1.5

SL_ATR=1.00
TP_R=1.00

# Mode de sortie : "fixed" (SL/TP classiques) ou "trailing_atr"
# En mode trailing_atr, le SL suit le prix à distance trailing_atr × ATR.
# Le SL initial reste comme filet de sécurité.
# TP_R=0 désactive le TP fixe (laisser courir, seul le trailing ferme).
EXIT_MODE=fixed
TRAILING_ATR=3.0
TRAILING_ACTIVATION_R=0.0

# ORDER_VALID_BARS est obsolète depuis la v2 (recalcul continu du signal)

# -----------------------------------------------------------------------------
# STRESS TEST — PÉNALITÉS D'EXÉCUTION
# -----------------------------------------------------------------------------
# Slippage modélisé sur l'entry, en multiples ATR
# 0.00 = borne haute (fill parfait), 0.25 = stress test
PENALTIES=0.00,0.10,0.20,0.25

# -----------------------------------------------------------------------------
# RISQUE
# -----------------------------------------------------------------------------
START_BALANCE=100000
RISK_PER_TRADE=0.0025

# Plafond de positions simultanées par instrument (0 = illimité)
MAX_CONCURRENT_TRADES=3

# -----------------------------------------------------------------------------
# PROP FIRM
# -----------------------------------------------------------------------------
DAILY_DD_FTMO=0.05
DAILY_DD_GFT=0.04
DAILY_EQUITY_MODE=worst
CONSERVATIVE_SAME_BAR=true
STOP_AFTER_N_LOSSES=2

# -----------------------------------------------------------------------------
# FILTRES
# -----------------------------------------------------------------------------
VOL_QUANTILE=0.95
VOL_WINDOW_BARS=1000

# Fenêtre sans nouvelles décisions (heure Paris)
# Mettre un intervalle d'1 min pour désactiver (ex: 23:30 / 23:31)
NO_TRADE_START=23:30
NO_TRADE_END=23:31

# -----------------------------------------------------------------------------
# SPLIT IS/OOS
# -----------------------------------------------------------------------------
# SPLIT_MODE=time
# SPLIT_RATIO=0.70

# -----------------------------------------------------------------------------
# CACHE & OUTPUT
# -----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_MAX_AGE_HOURS=24
OUTPUT_DIR=out

# -----------------------------------------------------------------------------
# PONDÉRATIONS PAR TICKER (optionnel)
# -----------------------------------------------------------------------------
# WEIGHT_EURUSD=1.0
# WEIGHT_BTC=0.8
