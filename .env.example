# =============================================================================
# ENVOLÉES - Configuration
# =============================================================================
# Fichier principal de configuration (committé).
# Les secrets (tokens, clés) vont dans .env.secret (non committé).
#
# PROFILS DISPONIBLES :
#   challenge    - Vitesse 5-10%, risque modéré
#   funded       - Robustesse, risque faible
#   conservative - Ultra-conservateur
#   aggressive   - Casino (déconseillé)
#   default      - Équilibré

# -----------------------------------------------------------------------------
# PROFIL ACTIF
# -----------------------------------------------------------------------------
# Le profil définit les paramètres de risque par défaut.
# Les variables ci-dessous surchargent le profil si définies.
PROFILE=challenge

# -----------------------------------------------------------------------------
# TICKERS
# -----------------------------------------------------------------------------
# Liste des tickers à backtester (séparés par des virgules)
# Supporte les alias : GOLD, BTC, SP500, etc. (voir data/aliases.py)
TICKERS=NZDUSD=X,GBPUSD=X,USDJPY=X,BTC-USD,GC=F

# Exemples par classe :
# FX:          EURUSD=X, GBPUSD=X, USDJPY=X, AUDUSD=X, NZDUSD=X
# Crypto:      BTC-USD, ETH-USD, SOL-USD
# Indices:     ^GSPC (SP500), ^NDX (Nasdaq), ^DJI (Dow), ^GDAXI (DAX)
# Commodities: GC=F (Gold), SI=F (Silver), CL=F (WTI), BZ=F (Brent)

# -----------------------------------------------------------------------------
# PÉNALITÉS D'EXÉCUTION
# -----------------------------------------------------------------------------
# Multiples de ATR appliqués à l'entrée (slippage simulé)
PENALTIES=0.05,0.10,0.15,0.20,0.25

# -----------------------------------------------------------------------------
# CAPITAL & RISQUE
# -----------------------------------------------------------------------------
START_BALANCE=100000
RISK_PER_TRADE=0.0025

# -----------------------------------------------------------------------------
# MODE DAILY DD
# -----------------------------------------------------------------------------
# worst = mark-to-market sur Low/High intrabar (recommandé)
# close = mark-to-market sur Close uniquement
MODE=worst

# -----------------------------------------------------------------------------
# SPLIT TEMPOREL (IS/OOS)
# -----------------------------------------------------------------------------
# Activer pour validation croisée
# SPLIT_MODE : "" ou "none" = pas de split, "time" = split temporel
SPLIT_MODE=
SPLIT_RATIO=0.70
# SPLIT_TARGET : "is" = in-sample, "oos" = out-of-sample
SPLIT_TARGET=

# -----------------------------------------------------------------------------
# INDICATEURS
# -----------------------------------------------------------------------------
EMA_PERIOD=200
ATR_PERIOD=14
DONCHIAN_N=20
BUFFER_ATR=0.10

# -----------------------------------------------------------------------------
# STOPS & OBJECTIFS
# -----------------------------------------------------------------------------
SL_ATR=1.00
TP_R=1.00

# -----------------------------------------------------------------------------
# FILTRE VOLATILITÉ
# -----------------------------------------------------------------------------
VOL_QUANTILE=0.90
VOL_WINDOW_BARS=1000

# -----------------------------------------------------------------------------
# FENÊTRE SANS TRADING (Europe/Paris)
# -----------------------------------------------------------------------------
NO_TRADE_START=22:30
NO_TRADE_END=06:30

# -----------------------------------------------------------------------------
# ORDRE EN ATTENTE
# -----------------------------------------------------------------------------
ORDER_VALID_BARS=1

# -----------------------------------------------------------------------------
# CONVENTION CONSERVATIVE
# -----------------------------------------------------------------------------
# Si SL et TP touchés même bougie → SL prioritaire
CONSERVATIVE_SAME_BAR=true

# -----------------------------------------------------------------------------
# PROP FIRM SIMULATION
# -----------------------------------------------------------------------------
DAILY_DD_FTMO=0.05
DAILY_DD_GFT=0.04
MAX_LOSS=0.10
DAILY_KILL_SWITCH=0.04
STOP_AFTER_N_LOSSES=2

# -----------------------------------------------------------------------------
# YAHOO FINANCE
# -----------------------------------------------------------------------------
YF_PERIOD=730d
YF_INTERVAL=1h

# -----------------------------------------------------------------------------
# CACHE
# -----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_MAX_AGE_HOURS=24
# CACHE_DIR=  # Laisser vide pour utiliser ~/.cache/envolees

# -----------------------------------------------------------------------------
# SHORTLIST (génération automatique)
# -----------------------------------------------------------------------------
# Seuils pour inclusion dans shortlist_tradable.csv
SHORTLIST_MIN_SCORE=0.0
SHORTLIST_MAX_TICKERS=10
MIN_TRADES_OOS=15
DD_CAP=0.012

# -----------------------------------------------------------------------------
# ALERTES (optionnel)
# -----------------------------------------------------------------------------
# ntfy (notifications push légères)
# NTFY_TOPIC=envolees-trading
# NTFY_SERVER=https://ntfy.sh

# Telegram (notifications détaillées)
# TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
# TELEGRAM_CHAT_ID=123456789

# -----------------------------------------------------------------------------
# OUTPUT
# -----------------------------------------------------------------------------
OUTPUT_DIR=out

# -----------------------------------------------------------------------------
# PONDÉRATIONS PAR TICKER (optionnel)
# -----------------------------------------------------------------------------
# Format : WEIGHT_<TICKER_ALIAS>=<poids>
# Exemple : WEIGHT_USDJPY=0.5 réduit l'exposition de 50%
# WEIGHT_GBPUSD=1.0
# WEIGHT_USDJPY=0.5
# WEIGHT_BTC=1.0
